{"version":3,"sources":["node_modules/browser-pack/_prelude.js","client/js/main.bundle.ts","client/js/modules/albums.ts","client/js/modules/controls.ts","client/js/modules/tooltips.ts","client/js/services/analytics.ts","client/js/services/imgur.ts","client/js/utils/copy.ts","client/js/utils/dom.ts","client/js/utils/functions.ts","client/js/utils/http.ts","client/js/utils/objects.ts","client/js/utils/strings.ts","client/js/utils/window.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import { initAlbums } from 'modules/albums';\nimport { initTooltips } from 'modules/tooltips';\nimport { initControls, setSources } from 'modules/controls';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initAlbums();\n  initTooltips();\n  initControls();\n\n  let urlMatch = window.location.pathname.match(/\\/a\\/([a-zA-Z0-9]*),([a-zA-Z0-9]*)/);\n  if(urlMatch && urlMatch[1] && urlMatch[2]) {\n    let source1 = urlMatch[1];\n    let source2 = urlMatch[2];\n\n    setSources([source1, source2]);\n  }\n});","import { createElement } from 'utils/dom';\nimport { diff, shared } from 'utils/strings';\nimport { smoothScroll } from 'utils/window';\nimport { debounce } from 'utils/functions';\nimport analytics, { EventActions, EventCategories, EventLabels, Dimensions } from 'services/analytics';\n\ntype Image = {\n  src: string,\n  desc: string,\n  label: string,\n}\ntype Album = {\n  id: string,\n  title: string,\n  images: Array<{\n    title: string,\n    link: string,\n    description: string\n  }>\n}\n\nlet albumsContainer: HTMLElement = null;\nlet currentIndex = -1;\nlet currentTargetPair: HTMLElement = null;\nlet albumCount = 0;\nlet pairEls: Array<HTMLElement> = [];\nlet scrollLock = false;\nlet scrollTimer = null;\n\nconst KeyCodes = {\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n};\n\nexport function initAlbums() {\n  albumsContainer = <HTMLElement> document.querySelector('#albums');\n\n  albumsContainer.addEventListener('change', (e) => {\n    let val = e.target.value;\n    let i = parseInt(e.target.dataset['i']);\n    showImage(i, val);\n  });\n\n  window.addEventListener('keydown', (e) => {\n    //noinspection TypeScriptUnresolvedFunction\n    let doCareAbout = Object.values(KeyCodes).indexOf(e.keyCode) > -1;\n    if(doCareAbout) {\n      if(e.keyCode == KeyCodes.DOWN) {\n        nextPair();\n      }\n      if(e.keyCode == KeyCodes.UP) {\n        prevPair();\n      }\n      if(e.keyCode == KeyCodes.RIGHT) {\n        nextImage();\n      }\n      if(e.keyCode == KeyCodes.LEFT) {\n        prevImage();\n      }\n    }\n  });\n\n  window.addEventListener('scroll', debouncedAdjustScroll);\n}\n\nfunction adjustCurrentFromScroll(e) {\n  if(scrollLock) return;\n\n  let top = window.scrollY;\n  let pairElTops = pairEls.map(e => e.offsetTop);\n  for(let i = 0; i < pairElTops.length; i++) {\n    let next = pairElTops[i + 1];\n    if(next && top + 200 < next) {\n      if(currentTargetPair) {\n        currentTargetPair.classList.remove('is-focused');\n      }\n      currentIndex = i;\n      let target = pairEls[i];\n      target.classList.add('is-focused');\n      currentTargetPair = target;\n      break;\n    }\n  }\n}\n\nlet debouncedAdjustScroll = debounce(adjustCurrentFromScroll, 500);\n\nfunction nextPair() {\n  currentIndex ++;\n  if(currentIndex >= albumCount) {\n    currentIndex = 0;\n  }\n  scrollToPair(currentIndex);\n}\nfunction prevPair() {\n  currentIndex --;\n  if(currentIndex < 0) {\n    currentIndex = albumCount - 1;\n  }\n  scrollToPair(currentIndex);\n}\n\nfunction scrollToPair(i: number) {\n  if(scrollLock) {\n    return;\n  }\n  if(currentTargetPair) {\n    currentTargetPair.classList.remove('is-focused');\n  }\n  let target = pairEls[i];\n  target.classList.add('is-focused');\n  currentTargetPair = target;\n  window.removeEventListener('scroll', debouncedAdjustScroll);\n  let duration = smoothScroll(target);\n  clearTimeout(scrollTimer);\n  scrollLock = true;\n  scrollTimer = setTimeout(() => {\n    scrollLock = false;\n    window.addEventListener('scroll', debouncedAdjustScroll);\n  }, duration + 1);\n}\n\nfunction showImage(i: number, val: string) {\n  let target = <HTMLElement> albumsContainer.querySelector(`[data-i=\"${i}\"]`);\n  target.dataset['show'] = val;\n}\n\nfunction nextImage() {\n  let target = albumsContainer.querySelector(`[data-i=\"${currentIndex}\"]`);\n  let vals = Array.prototype.slice.call(target.querySelectorAll('.src-toggle'), 0);\n  let i = vals.findIndex(v => !!v.checked);\n  i++;\n  if(i > vals.length - 1) {\n    i = 0;\n  }\n  let val = vals[i].value;\n  vals[i].checked = true;\n  showImage(currentIndex, val);\n}\n\nfunction prevImage() {\n  let target = albumsContainer.querySelector(`[data-i=\"${currentIndex}\"]`);\n  let vals = Array.prototype.slice.call(target.querySelectorAll('.src-toggle'), 0);\n  let i = vals.findIndex(v => !!v.checked);\n  i--;\n  if(i < 0) {\n    i = vals.length - 1;\n  }\n  let val = vals[i].value;\n  vals[i].checked = true;\n  showImage(currentIndex, val);\n}\n\nexport function renderAlbums(album1: Album, album2: Album) {\n  analytics.trackEvent({\n    action: EventActions.UPDATE,\n    category: EventCategories.VIEWER,\n    label: EventLabels.ALBUM_SOURCES,\n    dimensions: {\n      [Dimensions.SOURCES]: [album1.id, album2.id].join(','),\n      [Dimensions.SOURCE_ONE]: album1.id,\n      [Dimensions.SOURCE_TWO]: album2.id,\n    }\n  });\n  \n  let count = Math.max(album1.images.length, album2.images.length);\n  let labels = diff(album1.title, album2.title);\n  pairEls = [];\n  albumsContainer.innerHTML = '';\n\n  albumCount = count;\n \n  for(let i = 0; i < count; i++) {\n    let i1 = album1.images[i];\n    let i2 = album2.images[i];\n    let rawTitle = shared(i1.title, i2.title);\n    let title = `#${i + 1}${rawTitle ? ` - ${rawTitle}` : ''}`;\n\n    let el = renderImagePair(i, title, {\n      src: i1.link,\n      desc: i1.description,\n      label: labels[0]\n    }, {\n      src: i2.link,\n      desc: i2.description,\n      label: labels[1]\n    });\n    pairEls.push(el);\n  }\n\n  currentIndex = 0;\n  currentTargetPair = pairEls[0];\n  currentTargetPair.classList.add('is-focused');\n}\n\nfunction renderImagePair(i: number, title: string, i1: Image, i2: Image) {\n  let imagePairElement = createElement(`\n    <div class=\"image-pair\" data-i=\"${i}\" data-show=\"a\">\n      <div class=\"image-pair__controls\">\n        <span class=\"pair-id\">${title}</span>\n        <fieldset class=\"src-toggle-container\">\n          <span>\n            <input class=\"src-toggle\" type=\"radio\" id=\"${i}a\" name=\"pair-${i}\" data-i=\"${i}\" value=\"a\" checked />\n            <label for=\"${i}a\">${i1.label || 'A'}</label>\n          </span>\n          <span>\n            <input class=\"src-toggle\" type=\"radio\" id=\"${i}b\" name=\"pair-${i}\" data-i=\"${i}\" value=\"b\" />\n            <label for=\"${i}b\">${i2.label || 'B'}</label>\n          </span>\n        </fieldset>\n      </div>\n      <div class=\"image-pair__sources\">\n        <div class=\"image\" data-id=\"a\">\n          <div class=\"image-pair__src-wrapper\">\n            <img class=\"image__src\" src=\"${i1.src}\" />\n          </div>\n          <div class=\"image__desc\">\n            <p>${i1.desc || (i2.desc ? `<span class=\"assumed-desc\">[${i2.desc}]</span>` : '')}</p>\n          </div>\n        </div>\n        <div class=\"image\" data-id=\"b\">\n          <div class=\"image-pair__src-wrapper\">\n            <img class=\"image__src\" src=\"${i2.src}\" />\n          </div>\n          <div class=\"image__desc\">\n            <p>${i2.desc || (i1.desc ? `<span class=\"assumed-desc\">[${i1.desc}]</span>` : '')}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  `);\n  albumsContainer.appendChild(imagePairElement);\n  return <HTMLElement> imagePairElement\n}","import imgur from 'services/imgur';\nimport { renderAlbums } from 'modules/albums';\nimport { copyTextToClipboard } from 'utils/copy';\nimport { show, hide } from 'modules/tooltips';\nimport analytics, { EventActions, EventCategories, EventLabels, Dimensions } from 'services/analytics';\n\nlet updateButton = <HTMLButtonElement> document.querySelector('#submit');\nlet shareButton = <HTMLButtonElement> document.querySelector('#share');\nlet sourceForm = <HTMLFormElement> document.querySelector('#sourceForm');\nlet source1Input = <HTMLInputElement> document.querySelector('#source1');\nlet source2Input = <HTMLInputElement> document.querySelector('#source2');\n\nfunction onInputChange() {\n  let val1 = source1Input.value;\n  let val2 = source2Input.value;\n\n  if(val1 && val2) {\n    updateButton.disabled = false;\n  } else {\n    updateButton.disabled = true;\n  }\n}\n\nfunction update(values) {\n  let val1 = values[0];\n  let val2 = values[1];\n\n  shareButton.disabled = false;\n\n  imgur.requestAlbumImages([\n      val1, val2,\n    ])\n    .then(albums => {\n      if(albums[0] && albums[1]) {\n        renderAlbums(albums[0], albums[1]);\n\n        window.history.replaceState({\n          html: null,\n          pageTitle: 'contrast.li',\n        }, '', `/a/${albums[0].id},${albums[1].id}`);\n      } else {\n        window['Raven'].captureMessage(`Invalid album IDS: ${val1}, ${val2}`)\n      }\n    });\n\n  onInputChange();\n}\n\nexport function setSources(sources) {\n  let source1 = sources[0];\n  let source2 = sources[1];\n\n  source1Input.value = source1;\n  source2Input.value = source2;\n\n  update([source1, source2]);\n}\n\nexport function initControls() {\n  source1Input.addEventListener('keydown', onInputChange);\n  source2Input.addEventListener('keydown', onInputChange);\n  source1Input.addEventListener('paste', () => setTimeout(onInputChange, 0));\n  source2Input.addEventListener('paste', () => setTimeout(onInputChange, 0));\n\n  sourceForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n    if(updateButton.disabled) return;\n\n    let val1 = source1Input.value;\n    let val2 = source2Input.value;\n\n    analytics.trackEvent({\n      action: EventActions.CLICK,\n      category: EventCategories.CONTROLS,\n      label: EventLabels.UPDATE_BUTTON,\n      dimensions: {\n        [Dimensions.SOURCES]: [val1, val2].join(','),\n        [Dimensions.SOURCE_ONE]: val1,\n        [Dimensions.SOURCE_TWO]: val2,\n      }\n    });\n\n    update([val1, val2]);\n  });\n\n  shareButton.addEventListener('click', (e: MouseEvent) => {\n    let copied = copyTextToClipboard(window.location.href);\n    if(copied) {\n      show('URL copied to clipboard!', shareButton);\n    } else {\n      show(`Couldn't copy.`, shareButton);\n    }\n  });\n}","let tooltip: HTMLElement = null;\nlet isHovered = false;\nlet hideTimer = null;\n\nexport function show(content: string, anchor: HTMLElement) {\n  let top = anchor.offsetTop;\n  let left = anchor.offsetLeft;\n  let height = anchor.offsetHeight;\n\n  tooltip.innerHTML = content;\n  tooltip.style.display = `block`;\n  tooltip.style.left = `${left}px`;\n  tooltip.style.top = `${top + height}px`;\n}\n\nexport function hide() {\n  tooltip.innerHTML = '';\n  tooltip.style.display = 'none';\n}\n\nexport function initTooltips() {\n  tooltip = <HTMLElement> document.querySelector('#tooltip');\n\n  let triggers = Array.prototype.slice.call(document.querySelectorAll('[data-tooltip]'), 0);\n  triggers.forEach(target => {\n    target.addEventListener('mouseenter', (e: MouseEvent) => {\n      clearTimeout(hideTimer);\n      let tooltipTemplate = target.dataset['tooltip'];\n      if(tooltipTemplate) {\n        let selector = `[data-template=\"${tooltipTemplate}\"]`;\n        let template = document.querySelector(selector);\n        show(template.innerHTML, target);\n      }\n    });\n    target.addEventListener('mouseleave', (e: MouseEvent) => {\n      clearTimeout(hideTimer);\n      if(!isHovered) {\n        hideTimer = setTimeout(hide, 300);\n      }\n    });\n  });\n\n  tooltip.addEventListener('mouseenter', (e) => {\n    clearTimeout(hideTimer);\n    isHovered = true;\n  });\n  tooltip.addEventListener('mouseleave', (e) => {\n    clearTimeout(hideTimer);\n    isHovered = false;\n    hideTimer = setTimeout(hide, 300);\n  });\n}","const Pages = {\n  INDEX: '/',\n};\n\nconst EventCategories = {\n  CONTROLS: 'controls',\n  VIEWER: 'viewer',\n};\n\nconst EventActions = {\n  CLICK: 'click',\n  HOVER: 'hover',\n  SELECTED: 'selected',\n  UPDATE: 'update'\n};\n\nconst EventLabels = {\n  SOURCE_INPUT: 'source-input',\n  SOURCE_TOOLTIP: 'source-tooltip',\n  UPDATE_BUTTON: 'update-button',\n  SHARE_BUTTON: 'share-button',\n  ALBUM_SOURCES: 'album-sources',\n};\n\nconst Dimensions = {\n  SOURCES: 'dimension0',\n  SOURCE_ONE: 'dimension1',\n  SOURCE_TWO: 'dimension2',\n};\n\nexport {\n  Pages,\n  EventCategories,\n  EventActions,\n  EventLabels,\n  Dimensions\n}\n\nexport default {\n\n  /**\n   * Tracks a page view.\n   *\n   * @param {string} path - The path of the current URL. Prefixed with '/'\n   */\n  trackPageView(path) {\n    window['ga']('send', {\n      hitType: 'pageview',\n      page: path\n    });\n  },\n\n  /**\n   * Tracks an event or interaction on the page.\n   *\n   * @param {string} category - The type of thing interacted with. (eg. Video)\n   * @param {string} action - The type of interaction. (eg. play)\n   * @param {string?} label - Typically a subcategory.\n   * @param {number?} value - A useful and unique identification of the thing interacted with.\n   * @param {Object<string, *>?} dimensions - A key-value map of dimension parameters.\n   */\n  trackEvent({ category, action, label, value, dimensions }: { category, action, label?, value?, dimensions? }) {\n    let event = Object.assign({\n      hitType: 'event'\n    }, {\n      eventCategory: category,\n      eventAction: action,\n      eventLabel: label,\n      eventValue: value\n    }, dimensions);\n    window['ga']('send', event);\n  }\n}","import http, { HttpResponse }  from 'utils/http';\n\nfunction parseId(string: string) {\n  let m = string.match(/a\\/(.*)/);\n  return m && m[1] ? m[1] : string;\n}\n\nfunction requestAlbumImages(sources) {\n  let ids: Array<string> = sources.map(s => parseId(s));\n  let requests: Array<Promise<HttpResponse>> = ids.map((id: string) => {\n    return http.get(`/album/${id}`, {});\n  });\n\n  return Promise.all(requests)\n    .then((responses) => {\n      return responses.map((res: HttpResponse) => {\n        if(res.status == 200) {\n          return JSON.parse(res.body).data;\n        } else {\n          return {\n            title: null,\n            images: []\n          };\n        }\n      });\n    })\n}\n\nexport default {\n  requestAlbumImages\n}","export function copyTextToClipboard(text) {\n  let textArea = document.createElement(\"textarea\");\n  let success = false;\n\n  textArea.style.position = 'fixed';\n  textArea.style.top = 0;\n  textArea.style.left = 0;\n  textArea.style.width = '2em';\n  textArea.style.height = '2em';\n  textArea.style.padding = 0;\n  textArea.style.border = 'none';\n  textArea.style.outline = 'none';\n  textArea.style.boxShadow = 'none';\n  textArea.style.background = 'transparent';\n  textArea.value = text;\n  document.body.appendChild(textArea);\n  textArea.select();\n\n  try {\n    success = document.execCommand('copy');\n  } catch (err) {\n    console.log('Unable to copy string', err);\n    success = false;\n  }\n\n  document.body.removeChild(textArea);\n\n  return success;\n}","/**\n * Creates a DOM element from an HTML string.\n *\n * @param {string} html The HTML string to render.\n * @returns {Element} The DOM element constructed.\n */\nfunction createElement(html) {\n    let wrapper = document.createElement('div');\n    wrapper.innerHTML = html;\n    return wrapper.firstElementChild;\n}\n\n/**\n * Finds all elements matching the given selector, within the given root element.\n *\n * @param {Element=document} root The root element to search under.\n * @param {string|Array.<string>} selectors The selectors to query for. If an array,\n * all results are flattened.\n * @returns {Array.<Element>}\n */\nfunction findAll(root, selectors) {\n    if(arguments.length == 1) {\n        selectors = root;\n        root = document.documentElement || document.body;\n    }\n\n    if(!Array.isArray(selectors)) {\n        selectors = [selectors]\n    }\n\n    // Grab elements from all selectors.\n    selectors = selectors.map(selector => {\n        return Array.prototype.slice.call(\n            root.querySelectorAll(selector), 0)\n    });\n\n    // Flatten the elements from all of the selectors.\n    return selectors.reduce((all, single) => {\n        return all.concat(single)\n    }, [])\n}\n\n/**\n * Finds a single elemnt matching the given selector, within the given root element.\n *\n * @param {Element=document} root The root element to search under.\n * @param {string} selector The selector to query for.\n * @returns {Element}\n */\nfunction findOne(root, selector) {\n    if(arguments.length == 1) {\n        selector = root;\n        root = document.documentElement || document.body;\n    }\n    return root.querySelector(selector);\n}\n\nexport {\n    findOne,\n    findAll,\n    createElement\n};","/**\n * Wraps a function so that it is only executed after a specified delay.\n *\n * @param {Function} fn The function to execute.\n * @param {number} delay The delay before teh function is executed.\n * @returns {Function} wrapper function\n */\nexport function debounce(fn, delay) {\n  let timeoutId = null;\n  return function() {\n    let args = arguments;\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(() => fn.apply(null, args), delay);\n  }\n}\n\n/**\n * Wraps a function so that it's throttled to not executed more than once every\n * so often.\n *\n * @param {Function} fn The function to execute.\n * @param {number} threshold The delay before the function is executed.\n * @returns {Function} wrapper function\n */\nexport function throttle(fn, threshold) {\n  let last = null;\n  let deferTimer = null;\n\n  return function() {\n    let args = arguments;\n    let now = +new Date;\n\n    if(last && now < last + threshold) {\n      clearTimeout(deferTimer);\n\n      deferTimer = setTimeout(() => {\n        last = now;\n        fn.apply(null, args);\n      }, threshold);\n    } else {\n      last = now;\n      fn.apply(null, args);\n    }\n  }\n}","import { mix } from './objects';\n\nexport type HttpResponse = {\n    status: number,\n    body: string\n}\nexport type HttpOptions = {\n    method?: string,\n    url?: string,\n    params?: Object,\n    data?: Object,\n    headers?: Object\n}\n\n/**\n * Execute an AJAX request.\n *\n * @param {string} method The HTTP method to use.\n * @param {string} url The URL to send teh request to.\n * @param {object=} params Key-value paris of query string parameters.\n * @param {*=} data The request body.\n * @param {headers=} headers Any headers to set.\n * @returns {Promise}\n */\ninterface IHttp {\n    (HttpOptions): Promise<HttpResponse>\n    get(url: string, config?: HttpOptions): Promise<HttpResponse>\n}\n\nlet http = <IHttp>function({ method, url, params, data, headers }) {\n    return new Promise((resolve, reject) => {\n        let client = new XMLHttpRequest();\n        let uri = url;\n\n        if(params) {\n            let queryString = '';\n            for(let key in params) {\n                if(!params.hasOwnProperty(key)) continue;\n                let symbol = queryString ? '&' : '?';\n                let s = `${symbol}${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`;\n                queryString += s;\n            }\n            uri += queryString;\n        }\n\n        client.open(method, uri);\n\n        if(headers) {\n            for(let key in headers) {\n                if(headers.hasOwnProperty(key)) {\n                    let value = headers[key];\n                    client.setRequestHeader(key, value);\n                }\n            }\n        }\n\n        if(data && (method == 'POST' || method == 'PUT' || method == 'PATCH')) {\n            client.send(data);\n        } else {\n            client.send();\n        }\n\n        client.onload = function() {\n            if(this.status >= 200 && this.status < 300) {\n                resolve({\n                    status: this.status,\n                    body: this.response\n                });\n            } else {\n                reject({\n                    status: this.status,\n                    body: this.response\n                });\n            }\n        };\n\n        client.onerror = function() {\n            reject({\n                status: this.status,\n                body: this.response\n            })\n        };\n    })\n};\n\n/**\n * Executes a GET request to the specified location.\n *\n * @param {string} url The URL to send the request to.\n * @param {object=} config The full configuration options.\n * @returns {Promise}\n */\nhttp['get'] = (url, config = {}) => http(mix({\n    url,\n    method: 'GET'\n}, config));\n\n/**\n * Executes a POST request to the specified location.\n *\n * @param {string} url The URL to send the request to.\n * @param {*=} data The request body.\n * @param {object=} config The full configuration options.\n * @returns {Promise}\n */\nhttp['post'] = (url, data, config = {}) => http(mix({\n    url,\n    data,\n    method: 'POST'\n}, config));\n\n/**\n * Executes a PATCH request to the specified location.\n *\n * @param {string} url The URL to send the request to.\n * @param {*=} data The request body.\n * @param {object=} config The full configuration options.\n * @returns {Promise}\n */\nhttp['patch'] = (url, data, config = {}) => http(mix({\n    url,\n    data,\n    method: 'PATCH'\n}, config));\n\nexport default http;","function extend(src, ...objects) {\n    for(let i in objects) {\n        if(!objects.hasOwnProperty(i)) continue;\n        let obj = objects[i];\n        for(let key in obj) {\n            if(!obj.hasOwnProperty(key)) continue;\n            if(obj[key] && typeof obj[key] == 'object' && obj[key].constructor == Object) {\n                src[key] = mix({}, obj[key]);\n            } else {\n                src[key] = obj[key];\n            }\n        }\n    }\n    return src;\n}\n\nfunction mix(src, ...objects) {\n    let copy = extend({}, src);\n    return extend(copy, ...objects);\n}\n\nfunction retrieve(source, path) {\n    if (path.indexOf('.') < 0) {\n        return source[path];\n    } else {\n        let parts = path.split('.');\n        return retrieve(source[parts[0]], parts.slice(1).join('.'));\n    }\n}\n\nfunction assign(source, path, data) {\n    if (path.indexOf('.') < 0) {\n        source[path] = data;\n    } else {\n        let parts = path.split('.');\n        return assign(source[parts[0]], parts.slice(1).join('.'), data);\n    }\n}\n\nfunction pathsFor(path) {\n    return path\n      .split('.')\n      .map((part, i, paths) => paths.slice(0, i + 1).join('.'));\n}\n\nfunction crawl(source, callback, path = null) {\n    for (let key in source) {\n        if (source.hasOwnProperty(key)) {\n            let value = source[key];\n            let valuePath = path ? [path, key].join('.') : key;\n            callback(valuePath, value);\n            if (typeof value === 'object') {\n                crawl(value, callback, valuePath);\n            }\n        }\n    }\n}\n\nexport { extend, mix, retrieve, assign, pathsFor, crawl };","/**\n * Removes the given length of a string. If len is negative, will remove from the end.\n *\n * @param {string} str The string to slice\n * @param {number} len The length to remove.\n * @returns {string}\n */\nfunction remove(str: string, len: number) {\n  return len > 0 ? str.substring(len) : str.substring(0, str.length + len);\n}\n\n/**\n * Returns the length of matching characters in the given string, up to the length provided.\n *\n * @param {number} len The max length to count to. Should be the smallest length of all strings.\n * @param {Array<string>} strings The strings to check.\n * @returns {number}\n */\nfunction fromStartLen(len: number, ...strings: Array<string>) {\n  for(let i = 0; i < len; i++) {\n    let last = null;\n    for(let s = 0; s < strings.length; s++) {\n      let c = strings[s][i];\n      if(last !== null && c != last) {\n        return i;\n      }\n      last = c;\n    }\n  }\n  return 0;\n}\n\n/**\n * Returns the length of matching characters in the given string, counting from the end.\n *\n * @param {number} len The max length to count to. Should be the smallest length of all strings.\n * @param {Array<string>} strings The strings to check.\n * @returns {number}\n */\nfunction fromEndLen(len: number, ...strings: Array<string>) {\n  for(let i = 0; i < len; i++) {\n    let last = null;\n    for(let s = 0; s < strings.length; s++) {\n      let si = strings[s].length - i - 1;\n      let c = strings[s][si];\n      if(last !== null && c != last) {\n        return i;\n      }\n      last = c;\n    }\n  }\n}\n\n/**\n * Returns the longest non-matching sequence of characters in the string.\n *\n * @param {Array<string>} strings The list of strings to diff.\n * @returns {Array<string>}\n */\nexport function diff(...strings: Array<string>) {\n  let len = Math.min.apply(null, strings.map(s => s.length));\n  let fromStart = 0;\n  let fromEnd = 0;\n\n  fromStart = fromStartLen(len, ...strings);\n\n  if(fromStart >= len / 2) {\n    return strings.map(s => remove(s, fromStart));\n  }\n\n  fromEnd = fromEndLen(len, ...strings);\n\n  if(fromStart >= fromEnd) {\n    return strings.map(s => remove(s, fromStart));\n  } else {\n    return strings.map(s => remove(s, -fromEnd));\n  }\n}\n\n/**\n * Returns the longest matching sequence of characters in the string.\n *\n * @param {Array<string>} strings The list of strings to match.\n * @returns {string}\n */\nexport function shared(...strings: Array<string>) {\n  strings = strings.filter(s => s != null);\n  let len = Math.min.apply(null, strings.map(s => s.length));\n  let fromStart = 0;\n  let fromEnd = 0;\n\n  if(strings.length == 0) {\n    return '';\n  }\n  if(strings.length == 1) {\n    return strings[0];\n  }\n\n  fromStart = fromStartLen(len, ...strings);\n\n  if(fromStart >= len / 2) {\n    return strings[0].substring(0, fromStart);\n  }\n\n  fromEnd = fromEndLen(len, ...strings);\n\n  if(fromStart >= fromEnd) {\n    return strings[0].substring(0, fromStart);\n  } else {\n    let s = strings[0];\n    return s.substring(s.length - fromEnd);\n  }\n}","function currentYPosition() {\n  // Firefox, Chrome, Opera, Safari\n  if (self.pageYOffset) return self.pageYOffset;\n  // Internet Explorer 6 - standards mode\n  if (document.documentElement && document.documentElement.scrollTop)\n    return document.documentElement.scrollTop;\n  // Internet Explorer 6, 7 and 8\n  if (document.body.scrollTop) return document.body.scrollTop;\n  return 0;\n}\n\n\nfunction elmYPosition(elm) {\n  var y = elm.offsetTop;\n  var node = elm;\n  while (node.offsetParent && node.offsetParent != document.body) {\n    node = node.offsetParent;\n    y += node.offsetTop;\n  } return y;\n}\n\n\nexport function smoothScroll(elm) {\n  var startY = currentYPosition();\n  var stopY = elmYPosition(elm);\n  var distance = stopY > startY ? stopY - startY : startY - stopY;\n  if (distance < 100) {\n    scrollTo(0, stopY); return 0;\n  }\n  var speed = Math.round(distance / 100);\n  if (speed >= 20) speed = 20;\n  var step = Math.round(distance / 25);\n  var leapY = stopY > startY ? startY + step : startY - step;\n  var timer = 0;\n  var duration = 0;\n  if (stopY > startY) {\n    for ( var i=startY; i<stopY; i+=step ) {\n      setTimeout(\"window.scrollTo(0, \"+leapY+\")\", timer * speed);\n      leapY += step; if (leapY > stopY) leapY = stopY; timer++;\n      duration = timer * speed;\n    } return duration;\n  }\n  for ( var i=startY; i>stopY; i-=step ) {\n    setTimeout(\"window.scrollTo(0, \"+leapY+\")\", timer * speed);\n    leapY -= step; if (leapY < stopY) leapY = stopY; timer++;\n    duration = timer * speed;\n  }\n  return duration;\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjbGllbnQvanMvbWFpbi5idW5kbGUudHMiLCJjbGllbnQvanMvbW9kdWxlcy9hbGJ1bXMudHMiLCJjbGllbnQvanMvbW9kdWxlcy9jb250cm9scy50cyIsImNsaWVudC9qcy9tb2R1bGVzL3Rvb2x0aXBzLnRzIiwiY2xpZW50L2pzL3NlcnZpY2VzL2FuYWx5dGljcy50cyIsImNsaWVudC9qcy9zZXJ2aWNlcy9pbWd1ci50cyIsImNsaWVudC9qcy91dGlscy9jb3B5LnRzIiwiY2xpZW50L2pzL3V0aWxzL2RvbS50cyIsImNsaWVudC9qcy91dGlscy9mdW5jdGlvbnMudHMiLCJjbGllbnQvanMvdXRpbHMvaHR0cC50cyIsImNsaWVudC9qcy91dGlscy9vYmplY3RzLnRzIiwiY2xpZW50L2pzL3V0aWxzL3N0cmluZ3MudHMiLCJjbGllbnQvanMvdXRpbHMvd2luZG93LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSwyQ0FBNEM7QUFDNUMsK0NBQWdEO0FBQ2hELCtDQUE0RDtBQUU1RCxRQUFRLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUU7SUFDNUMsbUJBQVUsRUFBRSxDQUFDO0lBQ2IsdUJBQVksRUFBRSxDQUFDO0lBQ2YsdUJBQVksRUFBRSxDQUFDO0lBRWYsSUFBSSxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLG9DQUFvQyxDQUFDLENBQUM7SUFDcEYsRUFBRSxDQUFBLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFDLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxQixJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUIscUJBQVUsQ0FBQyxDQUFDLE9B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QUFNLENBQUMsQ0FBQyxDQUFDO1FBQ25CLEdBQUcsQ0FBQyxDQUFFLElBQUksQ0FBQyxHQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUMsS0FBSyxFQUFFLENBQUMsSUFBRSxJQUFJLEVBQUcsQ0FBQztZQUN0QyxVQUFVLENBQUMscUJBQXFCLEdBQUMsS0FBSyxHQUFDLEdBQUcsRUFBRSxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUM7WUFDM0QsS0FBSyxJQUFJLElBQUksQ0FBQztZQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7Z0JBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUFDLEtBQUssRUFBRSxDQUFDO1lBQ3pELFFBQVEsR0FBRyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQzNCLENBQUM7UUFBQyxNQUFNLENBQUMsUUFBUSxDQUFDO0lBQ3BCLENBQUM7SUFDRCxHQUFHLENBQUMsQ0FBRSxJQUFJLENBQUMsR0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFDLEtBQUssRUFBRSxDQUFDLElBQUUsSUFBSSxFQUFHLENBQUM7UUFDdEMsVUFBVSxDQUFDLHFCQUFxQixHQUFDLEtBQUssR0FBQyxHQUFHLEVBQUUsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDO1FBQzNELEtBQUssSUFBSSxJQUFJLENBQUM7UUFBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1lBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3pELFFBQVEsR0FBRyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQzNCLENBQUM7SUFDRCxNQUFNLENBQUMsUUFBUSxDQUFDO0FBQ2xCLENBQUM7QUExQkQsb0NBMEJDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB7IGluaXRBbGJ1bXMgfSBmcm9tICdtb2R1bGVzL2FsYnVtcyc7XG5pbXBvcnQgeyBpbml0VG9vbHRpcHMgfSBmcm9tICdtb2R1bGVzL3Rvb2x0aXBzJztcbmltcG9ydCB7IGluaXRDb250cm9scywgc2V0U291cmNlcyB9IGZyb20gJ21vZHVsZXMvY29udHJvbHMnO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBpbml0QWxidW1zKCk7XG4gIGluaXRUb29sdGlwcygpO1xuICBpbml0Q29udHJvbHMoKTtcblxuICBsZXQgdXJsTWF0Y2ggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL1xcL2FcXC8oW2EtekEtWjAtOV0qKSwoW2EtekEtWjAtOV0qKS8pO1xuICBpZih1cmxNYXRjaCAmJiB1cmxNYXRjaFsxXSAmJiB1cmxNYXRjaFsyXSkge1xuICAgIGxldCBzb3VyY2UxID0gdXJsTWF0Y2hbMV07XG4gICAgbGV0IHNvdXJjZTIgPSB1cmxNYXRjaFsyXTtcblxuICAgIHNldFNvdXJjZXMoW3NvdXJjZTEsIHNvdXJjZTJdKTtcbiAgfVxufSk7IiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3V0aWxzL2RvbSc7XG5pbXBvcnQgeyBkaWZmLCBzaGFyZWQgfSBmcm9tICd1dGlscy9zdHJpbmdzJztcbmltcG9ydCB7IHNtb290aFNjcm9sbCB9IGZyb20gJ3V0aWxzL3dpbmRvdyc7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gJ3V0aWxzL2Z1bmN0aW9ucyc7XG5pbXBvcnQgYW5hbHl0aWNzLCB7IEV2ZW50QWN0aW9ucywgRXZlbnRDYXRlZ29yaWVzLCBFdmVudExhYmVscywgRGltZW5zaW9ucyB9IGZyb20gJ3NlcnZpY2VzL2FuYWx5dGljcyc7XG5cbnR5cGUgSW1hZ2UgPSB7XG4gIHNyYzogc3RyaW5nLFxuICBkZXNjOiBzdHJpbmcsXG4gIGxhYmVsOiBzdHJpbmcsXG59XG50eXBlIEFsYnVtID0ge1xuICBpZDogc3RyaW5nLFxuICB0aXRsZTogc3RyaW5nLFxuICBpbWFnZXM6IEFycmF5PHtcbiAgICB0aXRsZTogc3RyaW5nLFxuICAgIGxpbms6IHN0cmluZyxcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nXG4gIH0+XG59XG5cbmxldCBhbGJ1bXNDb250YWluZXI6IEhUTUxFbGVtZW50ID0gbnVsbDtcbmxldCBjdXJyZW50SW5kZXggPSAtMTtcbmxldCBjdXJyZW50VGFyZ2V0UGFpcjogSFRNTEVsZW1lbnQgPSBudWxsO1xubGV0IGFsYnVtQ291bnQgPSAwO1xubGV0IHBhaXJFbHM6IEFycmF5PEhUTUxFbGVtZW50PiA9IFtdO1xubGV0IHNjcm9sbExvY2sgPSBmYWxzZTtcbmxldCBzY3JvbGxUaW1lciA9IG51bGw7XG5cbmNvbnN0IEtleUNvZGVzID0ge1xuICBMRUZUOiAzNyxcbiAgVVA6IDM4LFxuICBSSUdIVDogMzksXG4gIERPV046IDQwLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRBbGJ1bXMoKSB7XG4gIGFsYnVtc0NvbnRhaW5lciA9IDxIVE1MRWxlbWVudD4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FsYnVtcycpO1xuXG4gIGFsYnVtc0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgIGxldCB2YWwgPSBlLnRhcmdldC52YWx1ZTtcbiAgICBsZXQgaSA9IHBhcnNlSW50KGUudGFyZ2V0LmRhdGFzZXRbJ2knXSk7XG4gICAgc2hvd0ltYWdlKGksIHZhbCk7XG4gIH0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAvL25vaW5zcGVjdGlvbiBUeXBlU2NyaXB0VW5yZXNvbHZlZEZ1bmN0aW9uXG4gICAgbGV0IGRvQ2FyZUFib3V0ID0gT2JqZWN0LnZhbHVlcyhLZXlDb2RlcykuaW5kZXhPZihlLmtleUNvZGUpID4gLTE7XG4gICAgaWYoZG9DYXJlQWJvdXQpIHtcbiAgICAgIGlmKGUua2V5Q29kZSA9PSBLZXlDb2Rlcy5ET1dOKSB7XG4gICAgICAgIG5leHRQYWlyKCk7XG4gICAgICB9XG4gICAgICBpZihlLmtleUNvZGUgPT0gS2V5Q29kZXMuVVApIHtcbiAgICAgICAgcHJldlBhaXIoKTtcbiAgICAgIH1cbiAgICAgIGlmKGUua2V5Q29kZSA9PSBLZXlDb2Rlcy5SSUdIVCkge1xuICAgICAgICBuZXh0SW1hZ2UoKTtcbiAgICAgIH1cbiAgICAgIGlmKGUua2V5Q29kZSA9PSBLZXlDb2Rlcy5MRUZUKSB7XG4gICAgICAgIHByZXZJbWFnZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGRlYm91bmNlZEFkanVzdFNjcm9sbCk7XG59XG5cbmZ1bmN0aW9uIGFkanVzdEN1cnJlbnRGcm9tU2Nyb2xsKGUpIHtcbiAgaWYoc2Nyb2xsTG9jaykgcmV0dXJuO1xuXG4gIGxldCB0b3AgPSB3aW5kb3cuc2Nyb2xsWTtcbiAgbGV0IHBhaXJFbFRvcHMgPSBwYWlyRWxzLm1hcChlID0+IGUub2Zmc2V0VG9wKTtcbiAgZm9yKGxldCBpID0gMDsgaSA8IHBhaXJFbFRvcHMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbmV4dCA9IHBhaXJFbFRvcHNbaSArIDFdO1xuICAgIGlmKG5leHQgJiYgdG9wICsgMjAwIDwgbmV4dCkge1xuICAgICAgaWYoY3VycmVudFRhcmdldFBhaXIpIHtcbiAgICAgICAgY3VycmVudFRhcmdldFBhaXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtZm9jdXNlZCcpO1xuICAgICAgfVxuICAgICAgY3VycmVudEluZGV4ID0gaTtcbiAgICAgIGxldCB0YXJnZXQgPSBwYWlyRWxzW2ldO1xuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2lzLWZvY3VzZWQnKTtcbiAgICAgIGN1cnJlbnRUYXJnZXRQYWlyID0gdGFyZ2V0O1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbmxldCBkZWJvdW5jZWRBZGp1c3RTY3JvbGwgPSBkZWJvdW5jZShhZGp1c3RDdXJyZW50RnJvbVNjcm9sbCwgNTAwKTtcblxuZnVuY3Rpb24gbmV4dFBhaXIoKSB7XG4gIGN1cnJlbnRJbmRleCArKztcbiAgaWYoY3VycmVudEluZGV4ID49IGFsYnVtQ291bnQpIHtcbiAgICBjdXJyZW50SW5kZXggPSAwO1xuICB9XG4gIHNjcm9sbFRvUGFpcihjdXJyZW50SW5kZXgpO1xufVxuZnVuY3Rpb24gcHJldlBhaXIoKSB7XG4gIGN1cnJlbnRJbmRleCAtLTtcbiAgaWYoY3VycmVudEluZGV4IDwgMCkge1xuICAgIGN1cnJlbnRJbmRleCA9IGFsYnVtQ291bnQgLSAxO1xuICB9XG4gIHNjcm9sbFRvUGFpcihjdXJyZW50SW5kZXgpO1xufVxuXG5mdW5jdGlvbiBzY3JvbGxUb1BhaXIoaTogbnVtYmVyKSB7XG4gIGlmKHNjcm9sbExvY2spIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYoY3VycmVudFRhcmdldFBhaXIpIHtcbiAgICBjdXJyZW50VGFyZ2V0UGFpci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1mb2N1c2VkJyk7XG4gIH1cbiAgbGV0IHRhcmdldCA9IHBhaXJFbHNbaV07XG4gIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdpcy1mb2N1c2VkJyk7XG4gIGN1cnJlbnRUYXJnZXRQYWlyID0gdGFyZ2V0O1xuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZGVib3VuY2VkQWRqdXN0U2Nyb2xsKTtcbiAgbGV0IGR1cmF0aW9uID0gc21vb3RoU2Nyb2xsKHRhcmdldCk7XG4gIGNsZWFyVGltZW91dChzY3JvbGxUaW1lcik7XG4gIHNjcm9sbExvY2sgPSB0cnVlO1xuICBzY3JvbGxUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHNjcm9sbExvY2sgPSBmYWxzZTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZGVib3VuY2VkQWRqdXN0U2Nyb2xsKTtcbiAgfSwgZHVyYXRpb24gKyAxKTtcbn1cblxuZnVuY3Rpb24gc2hvd0ltYWdlKGk6IG51bWJlciwgdmFsOiBzdHJpbmcpIHtcbiAgbGV0IHRhcmdldCA9IDxIVE1MRWxlbWVudD4gYWxidW1zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWk9XCIke2l9XCJdYCk7XG4gIHRhcmdldC5kYXRhc2V0WydzaG93J10gPSB2YWw7XG59XG5cbmZ1bmN0aW9uIG5leHRJbWFnZSgpIHtcbiAgbGV0IHRhcmdldCA9IGFsYnVtc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pPVwiJHtjdXJyZW50SW5kZXh9XCJdYCk7XG4gIGxldCB2YWxzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zcmMtdG9nZ2xlJyksIDApO1xuICBsZXQgaSA9IHZhbHMuZmluZEluZGV4KHYgPT4gISF2LmNoZWNrZWQpO1xuICBpKys7XG4gIGlmKGkgPiB2YWxzLmxlbmd0aCAtIDEpIHtcbiAgICBpID0gMDtcbiAgfVxuICBsZXQgdmFsID0gdmFsc1tpXS52YWx1ZTtcbiAgdmFsc1tpXS5jaGVja2VkID0gdHJ1ZTtcbiAgc2hvd0ltYWdlKGN1cnJlbnRJbmRleCwgdmFsKTtcbn1cblxuZnVuY3Rpb24gcHJldkltYWdlKCkge1xuICBsZXQgdGFyZ2V0ID0gYWxidW1zQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWk9XCIke2N1cnJlbnRJbmRleH1cIl1gKTtcbiAgbGV0IHZhbHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0YXJnZXQucXVlcnlTZWxlY3RvckFsbCgnLnNyYy10b2dnbGUnKSwgMCk7XG4gIGxldCBpID0gdmFscy5maW5kSW5kZXgodiA9PiAhIXYuY2hlY2tlZCk7XG4gIGktLTtcbiAgaWYoaSA8IDApIHtcbiAgICBpID0gdmFscy5sZW5ndGggLSAxO1xuICB9XG4gIGxldCB2YWwgPSB2YWxzW2ldLnZhbHVlO1xuICB2YWxzW2ldLmNoZWNrZWQgPSB0cnVlO1xuICBzaG93SW1hZ2UoY3VycmVudEluZGV4LCB2YWwpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyQWxidW1zKGFsYnVtMTogQWxidW0sIGFsYnVtMjogQWxidW0pIHtcbiAgYW5hbHl0aWNzLnRyYWNrRXZlbnQoe1xuICAgIGFjdGlvbjogRXZlbnRBY3Rpb25zLlVQREFURSxcbiAgICBjYXRlZ29yeTogRXZlbnRDYXRlZ29yaWVzLlZJRVdFUixcbiAgICBsYWJlbDogRXZlbnRMYWJlbHMuQUxCVU1fU09VUkNFUyxcbiAgICBkaW1lbnNpb25zOiB7XG4gICAgICBbRGltZW5zaW9ucy5TT1VSQ0VTXTogW2FsYnVtMS5pZCwgYWxidW0yLmlkXS5qb2luKCcsJyksXG4gICAgICBbRGltZW5zaW9ucy5TT1VSQ0VfT05FXTogYWxidW0xLmlkLFxuICAgICAgW0RpbWVuc2lvbnMuU09VUkNFX1RXT106IGFsYnVtMi5pZCxcbiAgICB9XG4gIH0pO1xuICBcbiAgbGV0IGNvdW50ID0gTWF0aC5tYXgoYWxidW0xLmltYWdlcy5sZW5ndGgsIGFsYnVtMi5pbWFnZXMubGVuZ3RoKTtcbiAgbGV0IGxhYmVscyA9IGRpZmYoYWxidW0xLnRpdGxlLCBhbGJ1bTIudGl0bGUpO1xuICBwYWlyRWxzID0gW107XG4gIGFsYnVtc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcblxuICBhbGJ1bUNvdW50ID0gY291bnQ7XG4gXG4gIGZvcihsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgbGV0IGkxID0gYWxidW0xLmltYWdlc1tpXTtcbiAgICBsZXQgaTIgPSBhbGJ1bTIuaW1hZ2VzW2ldO1xuICAgIGxldCByYXdUaXRsZSA9IHNoYXJlZChpMS50aXRsZSwgaTIudGl0bGUpO1xuICAgIGxldCB0aXRsZSA9IGAjJHtpICsgMX0ke3Jhd1RpdGxlID8gYCAtICR7cmF3VGl0bGV9YCA6ICcnfWA7XG5cbiAgICBsZXQgZWwgPSByZW5kZXJJbWFnZVBhaXIoaSwgdGl0bGUsIHtcbiAgICAgIHNyYzogaTEubGluayxcbiAgICAgIGRlc2M6IGkxLmRlc2NyaXB0aW9uLFxuICAgICAgbGFiZWw6IGxhYmVsc1swXVxuICAgIH0sIHtcbiAgICAgIHNyYzogaTIubGluayxcbiAgICAgIGRlc2M6IGkyLmRlc2NyaXB0aW9uLFxuICAgICAgbGFiZWw6IGxhYmVsc1sxXVxuICAgIH0pO1xuICAgIHBhaXJFbHMucHVzaChlbCk7XG4gIH1cblxuICBjdXJyZW50SW5kZXggPSAwO1xuICBjdXJyZW50VGFyZ2V0UGFpciA9IHBhaXJFbHNbMF07XG4gIGN1cnJlbnRUYXJnZXRQYWlyLmNsYXNzTGlzdC5hZGQoJ2lzLWZvY3VzZWQnKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVySW1hZ2VQYWlyKGk6IG51bWJlciwgdGl0bGU6IHN0cmluZywgaTE6IEltYWdlLCBpMjogSW1hZ2UpIHtcbiAgbGV0IGltYWdlUGFpckVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KGBcbiAgICA8ZGl2IGNsYXNzPVwiaW1hZ2UtcGFpclwiIGRhdGEtaT1cIiR7aX1cIiBkYXRhLXNob3c9XCJhXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2UtcGFpcl9fY29udHJvbHNcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJwYWlyLWlkXCI+JHt0aXRsZX08L3NwYW4+XG4gICAgICAgIDxmaWVsZHNldCBjbGFzcz1cInNyYy10b2dnbGUtY29udGFpbmVyXCI+XG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJzcmMtdG9nZ2xlXCIgdHlwZT1cInJhZGlvXCIgaWQ9XCIke2l9YVwiIG5hbWU9XCJwYWlyLSR7aX1cIiBkYXRhLWk9XCIke2l9XCIgdmFsdWU9XCJhXCIgY2hlY2tlZCAvPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cIiR7aX1hXCI+JHtpMS5sYWJlbCB8fCAnQSd9PC9sYWJlbD5cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJzcmMtdG9nZ2xlXCIgdHlwZT1cInJhZGlvXCIgaWQ9XCIke2l9YlwiIG5hbWU9XCJwYWlyLSR7aX1cIiBkYXRhLWk9XCIke2l9XCIgdmFsdWU9XCJiXCIgLz5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCIke2l9YlwiPiR7aTIubGFiZWwgfHwgJ0InfTwvbGFiZWw+XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2ZpZWxkc2V0PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2UtcGFpcl9fc291cmNlc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2VcIiBkYXRhLWlkPVwiYVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbWFnZS1wYWlyX19zcmMtd3JhcHBlclwiPlxuICAgICAgICAgICAgPGltZyBjbGFzcz1cImltYWdlX19zcmNcIiBzcmM9XCIke2kxLnNyY31cIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbWFnZV9fZGVzY1wiPlxuICAgICAgICAgICAgPHA+JHtpMS5kZXNjIHx8IChpMi5kZXNjID8gYDxzcGFuIGNsYXNzPVwiYXNzdW1lZC1kZXNjXCI+WyR7aTIuZGVzY31dPC9zcGFuPmAgOiAnJyl9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImltYWdlXCIgZGF0YS1pZD1cImJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2UtcGFpcl9fc3JjLXdyYXBwZXJcIj5cbiAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJpbWFnZV9fc3JjXCIgc3JjPVwiJHtpMi5zcmN9XCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2VfX2Rlc2NcIj5cbiAgICAgICAgICAgIDxwPiR7aTIuZGVzYyB8fCAoaTEuZGVzYyA/IGA8c3BhbiBjbGFzcz1cImFzc3VtZWQtZGVzY1wiPlske2kxLmRlc2N9XTwvc3Bhbj5gIDogJycpfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYCk7XG4gIGFsYnVtc0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbWFnZVBhaXJFbGVtZW50KTtcbiAgcmV0dXJuIDxIVE1MRWxlbWVudD4gaW1hZ2VQYWlyRWxlbWVudFxufSIsImltcG9ydCBpbWd1ciBmcm9tICdzZXJ2aWNlcy9pbWd1cic7XG5pbXBvcnQgeyByZW5kZXJBbGJ1bXMgfSBmcm9tICdtb2R1bGVzL2FsYnVtcyc7XG5pbXBvcnQgeyBjb3B5VGV4dFRvQ2xpcGJvYXJkIH0gZnJvbSAndXRpbHMvY29weSc7XG5pbXBvcnQgeyBzaG93LCBoaWRlIH0gZnJvbSAnbW9kdWxlcy90b29sdGlwcyc7XG5pbXBvcnQgYW5hbHl0aWNzLCB7IEV2ZW50QWN0aW9ucywgRXZlbnRDYXRlZ29yaWVzLCBFdmVudExhYmVscywgRGltZW5zaW9ucyB9IGZyb20gJ3NlcnZpY2VzL2FuYWx5dGljcyc7XG5cbmxldCB1cGRhdGVCdXR0b24gPSA8SFRNTEJ1dHRvbkVsZW1lbnQ+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdWJtaXQnKTtcbmxldCBzaGFyZUJ1dHRvbiA9IDxIVE1MQnV0dG9uRWxlbWVudD4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NoYXJlJyk7XG5sZXQgc291cmNlRm9ybSA9IDxIVE1MRm9ybUVsZW1lbnQ+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzb3VyY2VGb3JtJyk7XG5sZXQgc291cmNlMUlucHV0ID0gPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzb3VyY2UxJyk7XG5sZXQgc291cmNlMklucHV0ID0gPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzb3VyY2UyJyk7XG5cbmZ1bmN0aW9uIG9uSW5wdXRDaGFuZ2UoKSB7XG4gIGxldCB2YWwxID0gc291cmNlMUlucHV0LnZhbHVlO1xuICBsZXQgdmFsMiA9IHNvdXJjZTJJbnB1dC52YWx1ZTtcblxuICBpZih2YWwxICYmIHZhbDIpIHtcbiAgICB1cGRhdGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICB1cGRhdGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZSh2YWx1ZXMpIHtcbiAgbGV0IHZhbDEgPSB2YWx1ZXNbMF07XG4gIGxldCB2YWwyID0gdmFsdWVzWzFdO1xuXG4gIHNoYXJlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgaW1ndXIucmVxdWVzdEFsYnVtSW1hZ2VzKFtcbiAgICAgIHZhbDEsIHZhbDIsXG4gICAgXSlcbiAgICAudGhlbihhbGJ1bXMgPT4ge1xuICAgICAgaWYoYWxidW1zWzBdICYmIGFsYnVtc1sxXSkge1xuICAgICAgICByZW5kZXJBbGJ1bXMoYWxidW1zWzBdLCBhbGJ1bXNbMV0pO1xuXG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7XG4gICAgICAgICAgaHRtbDogbnVsbCxcbiAgICAgICAgICBwYWdlVGl0bGU6ICdjb250cmFzdC5saScsXG4gICAgICAgIH0sICcnLCBgL2EvJHthbGJ1bXNbMF0uaWR9LCR7YWxidW1zWzFdLmlkfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93WydSYXZlbiddLmNhcHR1cmVNZXNzYWdlKGBJbnZhbGlkIGFsYnVtIElEUzogJHt2YWwxfSwgJHt2YWwyfWApXG4gICAgICB9XG4gICAgfSk7XG5cbiAgb25JbnB1dENoYW5nZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0U291cmNlcyhzb3VyY2VzKSB7XG4gIGxldCBzb3VyY2UxID0gc291cmNlc1swXTtcbiAgbGV0IHNvdXJjZTIgPSBzb3VyY2VzWzFdO1xuXG4gIHNvdXJjZTFJbnB1dC52YWx1ZSA9IHNvdXJjZTE7XG4gIHNvdXJjZTJJbnB1dC52YWx1ZSA9IHNvdXJjZTI7XG5cbiAgdXBkYXRlKFtzb3VyY2UxLCBzb3VyY2UyXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0Q29udHJvbHMoKSB7XG4gIHNvdXJjZTFJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25JbnB1dENoYW5nZSk7XG4gIHNvdXJjZTJJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25JbnB1dENoYW5nZSk7XG4gIHNvdXJjZTFJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdwYXN0ZScsICgpID0+IHNldFRpbWVvdXQob25JbnB1dENoYW5nZSwgMCkpO1xuICBzb3VyY2UySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigncGFzdGUnLCAoKSA9PiBzZXRUaW1lb3V0KG9uSW5wdXRDaGFuZ2UsIDApKTtcblxuICBzb3VyY2VGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmKHVwZGF0ZUJ1dHRvbi5kaXNhYmxlZCkgcmV0dXJuO1xuXG4gICAgbGV0IHZhbDEgPSBzb3VyY2UxSW5wdXQudmFsdWU7XG4gICAgbGV0IHZhbDIgPSBzb3VyY2UySW5wdXQudmFsdWU7XG5cbiAgICBhbmFseXRpY3MudHJhY2tFdmVudCh7XG4gICAgICBhY3Rpb246IEV2ZW50QWN0aW9ucy5DTElDSyxcbiAgICAgIGNhdGVnb3J5OiBFdmVudENhdGVnb3JpZXMuQ09OVFJPTFMsXG4gICAgICBsYWJlbDogRXZlbnRMYWJlbHMuVVBEQVRFX0JVVFRPTixcbiAgICAgIGRpbWVuc2lvbnM6IHtcbiAgICAgICAgW0RpbWVuc2lvbnMuU09VUkNFU106IFt2YWwxLCB2YWwyXS5qb2luKCcsJyksXG4gICAgICAgIFtEaW1lbnNpb25zLlNPVVJDRV9PTkVdOiB2YWwxLFxuICAgICAgICBbRGltZW5zaW9ucy5TT1VSQ0VfVFdPXTogdmFsMixcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHVwZGF0ZShbdmFsMSwgdmFsMl0pO1xuICB9KTtcblxuICBzaGFyZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgbGV0IGNvcGllZCA9IGNvcHlUZXh0VG9DbGlwYm9hcmQod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgIGlmKGNvcGllZCkge1xuICAgICAgc2hvdygnVVJMIGNvcGllZCB0byBjbGlwYm9hcmQhJywgc2hhcmVCdXR0b24pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaG93KGBDb3VsZG4ndCBjb3B5LmAsIHNoYXJlQnV0dG9uKTtcbiAgICB9XG4gIH0pO1xufSIsImxldCB0b29sdGlwOiBIVE1MRWxlbWVudCA9IG51bGw7XG5sZXQgaXNIb3ZlcmVkID0gZmFsc2U7XG5sZXQgaGlkZVRpbWVyID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIHNob3coY29udGVudDogc3RyaW5nLCBhbmNob3I6IEhUTUxFbGVtZW50KSB7XG4gIGxldCB0b3AgPSBhbmNob3Iub2Zmc2V0VG9wO1xuICBsZXQgbGVmdCA9IGFuY2hvci5vZmZzZXRMZWZ0O1xuICBsZXQgaGVpZ2h0ID0gYW5jaG9yLm9mZnNldEhlaWdodDtcblxuICB0b29sdGlwLmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gIHRvb2x0aXAuc3R5bGUuZGlzcGxheSA9IGBibG9ja2A7XG4gIHRvb2x0aXAuc3R5bGUubGVmdCA9IGAke2xlZnR9cHhgO1xuICB0b29sdGlwLnN0eWxlLnRvcCA9IGAke3RvcCArIGhlaWdodH1weGA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlKCkge1xuICB0b29sdGlwLmlubmVySFRNTCA9ICcnO1xuICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0VG9vbHRpcHMoKSB7XG4gIHRvb2x0aXAgPSA8SFRNTEVsZW1lbnQ+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b29sdGlwJyk7XG5cbiAgbGV0IHRyaWdnZXJzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdG9vbHRpcF0nKSwgMCk7XG4gIHRyaWdnZXJzLmZvckVhY2godGFyZ2V0ID0+IHtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQoaGlkZVRpbWVyKTtcbiAgICAgIGxldCB0b29sdGlwVGVtcGxhdGUgPSB0YXJnZXQuZGF0YXNldFsndG9vbHRpcCddO1xuICAgICAgaWYodG9vbHRpcFRlbXBsYXRlKSB7XG4gICAgICAgIGxldCBzZWxlY3RvciA9IGBbZGF0YS10ZW1wbGF0ZT1cIiR7dG9vbHRpcFRlbXBsYXRlfVwiXWA7XG4gICAgICAgIGxldCB0ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgICBzaG93KHRlbXBsYXRlLmlubmVySFRNTCwgdGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQoaGlkZVRpbWVyKTtcbiAgICAgIGlmKCFpc0hvdmVyZWQpIHtcbiAgICAgICAgaGlkZVRpbWVyID0gc2V0VGltZW91dChoaWRlLCAzMDApO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICB0b29sdGlwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoZSkgPT4ge1xuICAgIGNsZWFyVGltZW91dChoaWRlVGltZXIpO1xuICAgIGlzSG92ZXJlZCA9IHRydWU7XG4gIH0pO1xuICB0b29sdGlwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoZSkgPT4ge1xuICAgIGNsZWFyVGltZW91dChoaWRlVGltZXIpO1xuICAgIGlzSG92ZXJlZCA9IGZhbHNlO1xuICAgIGhpZGVUaW1lciA9IHNldFRpbWVvdXQoaGlkZSwgMzAwKTtcbiAgfSk7XG59IiwiY29uc3QgUGFnZXMgPSB7XG4gIElOREVYOiAnLycsXG59O1xuXG5jb25zdCBFdmVudENhdGVnb3JpZXMgPSB7XG4gIENPTlRST0xTOiAnY29udHJvbHMnLFxuICBWSUVXRVI6ICd2aWV3ZXInLFxufTtcblxuY29uc3QgRXZlbnRBY3Rpb25zID0ge1xuICBDTElDSzogJ2NsaWNrJyxcbiAgSE9WRVI6ICdob3ZlcicsXG4gIFNFTEVDVEVEOiAnc2VsZWN0ZWQnLFxuICBVUERBVEU6ICd1cGRhdGUnXG59O1xuXG5jb25zdCBFdmVudExhYmVscyA9IHtcbiAgU09VUkNFX0lOUFVUOiAnc291cmNlLWlucHV0JyxcbiAgU09VUkNFX1RPT0xUSVA6ICdzb3VyY2UtdG9vbHRpcCcsXG4gIFVQREFURV9CVVRUT046ICd1cGRhdGUtYnV0dG9uJyxcbiAgU0hBUkVfQlVUVE9OOiAnc2hhcmUtYnV0dG9uJyxcbiAgQUxCVU1fU09VUkNFUzogJ2FsYnVtLXNvdXJjZXMnLFxufTtcblxuY29uc3QgRGltZW5zaW9ucyA9IHtcbiAgU09VUkNFUzogJ2RpbWVuc2lvbjAnLFxuICBTT1VSQ0VfT05FOiAnZGltZW5zaW9uMScsXG4gIFNPVVJDRV9UV086ICdkaW1lbnNpb24yJyxcbn07XG5cbmV4cG9ydCB7XG4gIFBhZ2VzLFxuICBFdmVudENhdGVnb3JpZXMsXG4gIEV2ZW50QWN0aW9ucyxcbiAgRXZlbnRMYWJlbHMsXG4gIERpbWVuc2lvbnNcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBUcmFja3MgYSBwYWdlIHZpZXcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIHBhdGggb2YgdGhlIGN1cnJlbnQgVVJMLiBQcmVmaXhlZCB3aXRoICcvJ1xuICAgKi9cbiAgdHJhY2tQYWdlVmlldyhwYXRoKSB7XG4gICAgd2luZG93WydnYSddKCdzZW5kJywge1xuICAgICAgaGl0VHlwZTogJ3BhZ2V2aWV3JyxcbiAgICAgIHBhZ2U6IHBhdGhcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogVHJhY2tzIGFuIGV2ZW50IG9yIGludGVyYWN0aW9uIG9uIHRoZSBwYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2F0ZWdvcnkgLSBUaGUgdHlwZSBvZiB0aGluZyBpbnRlcmFjdGVkIHdpdGguIChlZy4gVmlkZW8pXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb24gLSBUaGUgdHlwZSBvZiBpbnRlcmFjdGlvbi4gKGVnLiBwbGF5KVxuICAgKiBAcGFyYW0ge3N0cmluZz99IGxhYmVsIC0gVHlwaWNhbGx5IGEgc3ViY2F0ZWdvcnkuXG4gICAqIEBwYXJhbSB7bnVtYmVyP30gdmFsdWUgLSBBIHVzZWZ1bCBhbmQgdW5pcXVlIGlkZW50aWZpY2F0aW9uIG9mIHRoZSB0aGluZyBpbnRlcmFjdGVkIHdpdGguXG4gICAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgKj4/fSBkaW1lbnNpb25zIC0gQSBrZXktdmFsdWUgbWFwIG9mIGRpbWVuc2lvbiBwYXJhbWV0ZXJzLlxuICAgKi9cbiAgdHJhY2tFdmVudCh7IGNhdGVnb3J5LCBhY3Rpb24sIGxhYmVsLCB2YWx1ZSwgZGltZW5zaW9ucyB9OiB7IGNhdGVnb3J5LCBhY3Rpb24sIGxhYmVsPywgdmFsdWU/LCBkaW1lbnNpb25zPyB9KSB7XG4gICAgbGV0IGV2ZW50ID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBoaXRUeXBlOiAnZXZlbnQnXG4gICAgfSwge1xuICAgICAgZXZlbnRDYXRlZ29yeTogY2F0ZWdvcnksXG4gICAgICBldmVudEFjdGlvbjogYWN0aW9uLFxuICAgICAgZXZlbnRMYWJlbDogbGFiZWwsXG4gICAgICBldmVudFZhbHVlOiB2YWx1ZVxuICAgIH0sIGRpbWVuc2lvbnMpO1xuICAgIHdpbmRvd1snZ2EnXSgnc2VuZCcsIGV2ZW50KTtcbiAgfVxufSIsImltcG9ydCBodHRwLCB7IEh0dHBSZXNwb25zZSB9ICBmcm9tICd1dGlscy9odHRwJztcblxuZnVuY3Rpb24gcGFyc2VJZChzdHJpbmc6IHN0cmluZykge1xuICBsZXQgbSA9IHN0cmluZy5tYXRjaCgvYVxcLyguKikvKTtcbiAgcmV0dXJuIG0gJiYgbVsxXSA/IG1bMV0gOiBzdHJpbmc7XG59XG5cbmZ1bmN0aW9uIHJlcXVlc3RBbGJ1bUltYWdlcyhzb3VyY2VzKSB7XG4gIGxldCBpZHM6IEFycmF5PHN0cmluZz4gPSBzb3VyY2VzLm1hcChzID0+IHBhcnNlSWQocykpO1xuICBsZXQgcmVxdWVzdHM6IEFycmF5PFByb21pc2U8SHR0cFJlc3BvbnNlPj4gPSBpZHMubWFwKChpZDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGh0dHAuZ2V0KGAvYWxidW0vJHtpZH1gLCB7fSk7XG4gIH0pO1xuXG4gIHJldHVybiBQcm9taXNlLmFsbChyZXF1ZXN0cylcbiAgICAudGhlbigocmVzcG9uc2VzKSA9PiB7XG4gICAgICByZXR1cm4gcmVzcG9uc2VzLm1hcCgocmVzOiBIdHRwUmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYocmVzLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyZXMuYm9keSkuZGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGl0bGU6IG51bGwsXG4gICAgICAgICAgICBpbWFnZXM6IFtdXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSlcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICByZXF1ZXN0QWxidW1JbWFnZXNcbn0iLCJleHBvcnQgZnVuY3Rpb24gY29weVRleHRUb0NsaXBib2FyZCh0ZXh0KSB7XG4gIGxldCB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgbGV0IHN1Y2Nlc3MgPSBmYWxzZTtcblxuICB0ZXh0QXJlYS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gIHRleHRBcmVhLnN0eWxlLnRvcCA9IDA7XG4gIHRleHRBcmVhLnN0eWxlLmxlZnQgPSAwO1xuICB0ZXh0QXJlYS5zdHlsZS53aWR0aCA9ICcyZW0nO1xuICB0ZXh0QXJlYS5zdHlsZS5oZWlnaHQgPSAnMmVtJztcbiAgdGV4dEFyZWEuc3R5bGUucGFkZGluZyA9IDA7XG4gIHRleHRBcmVhLnN0eWxlLmJvcmRlciA9ICdub25lJztcbiAgdGV4dEFyZWEuc3R5bGUub3V0bGluZSA9ICdub25lJztcbiAgdGV4dEFyZWEuc3R5bGUuYm94U2hhZG93ID0gJ25vbmUnO1xuICB0ZXh0QXJlYS5zdHlsZS5iYWNrZ3JvdW5kID0gJ3RyYW5zcGFyZW50JztcbiAgdGV4dEFyZWEudmFsdWUgPSB0ZXh0O1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRleHRBcmVhKTtcbiAgdGV4dEFyZWEuc2VsZWN0KCk7XG5cbiAgdHJ5IHtcbiAgICBzdWNjZXNzID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5sb2coJ1VuYWJsZSB0byBjb3B5IHN0cmluZycsIGVycik7XG4gICAgc3VjY2VzcyA9IGZhbHNlO1xuICB9XG5cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZXh0QXJlYSk7XG5cbiAgcmV0dXJuIHN1Y2Nlc3M7XG59IiwiLyoqXG4gKiBDcmVhdGVzIGEgRE9NIGVsZW1lbnQgZnJvbSBhbiBIVE1MIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaHRtbCBUaGUgSFRNTCBzdHJpbmcgdG8gcmVuZGVyLlxuICogQHJldHVybnMge0VsZW1lbnR9IFRoZSBET00gZWxlbWVudCBjb25zdHJ1Y3RlZC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlRWxlbWVudChodG1sKSB7XG4gICAgbGV0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB3cmFwcGVyLmlubmVySFRNTCA9IGh0bWw7XG4gICAgcmV0dXJuIHdyYXBwZXIuZmlyc3RFbGVtZW50Q2hpbGQ7XG59XG5cbi8qKlxuICogRmluZHMgYWxsIGVsZW1lbnRzIG1hdGNoaW5nIHRoZSBnaXZlbiBzZWxlY3Rvciwgd2l0aGluIHRoZSBnaXZlbiByb290IGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50PWRvY3VtZW50fSByb290IFRoZSByb290IGVsZW1lbnQgdG8gc2VhcmNoIHVuZGVyLlxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXkuPHN0cmluZz59IHNlbGVjdG9ycyBUaGUgc2VsZWN0b3JzIHRvIHF1ZXJ5IGZvci4gSWYgYW4gYXJyYXksXG4gKiBhbGwgcmVzdWx0cyBhcmUgZmxhdHRlbmVkLlxuICogQHJldHVybnMge0FycmF5LjxFbGVtZW50Pn1cbiAqL1xuZnVuY3Rpb24gZmluZEFsbChyb290LCBzZWxlY3RvcnMpIHtcbiAgICBpZihhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgc2VsZWN0b3JzID0gcm9vdDtcbiAgICAgICAgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5O1xuICAgIH1cblxuICAgIGlmKCFBcnJheS5pc0FycmF5KHNlbGVjdG9ycykpIHtcbiAgICAgICAgc2VsZWN0b3JzID0gW3NlbGVjdG9yc11cbiAgICB9XG5cbiAgICAvLyBHcmFiIGVsZW1lbnRzIGZyb20gYWxsIHNlbGVjdG9ycy5cbiAgICBzZWxlY3RvcnMgPSBzZWxlY3RvcnMubWFwKHNlbGVjdG9yID0+IHtcbiAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgICAgICAgICAgcm9vdC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSwgMClcbiAgICB9KTtcblxuICAgIC8vIEZsYXR0ZW4gdGhlIGVsZW1lbnRzIGZyb20gYWxsIG9mIHRoZSBzZWxlY3RvcnMuXG4gICAgcmV0dXJuIHNlbGVjdG9ycy5yZWR1Y2UoKGFsbCwgc2luZ2xlKSA9PiB7XG4gICAgICAgIHJldHVybiBhbGwuY29uY2F0KHNpbmdsZSlcbiAgICB9LCBbXSlcbn1cblxuLyoqXG4gKiBGaW5kcyBhIHNpbmdsZSBlbGVtbnQgbWF0Y2hpbmcgdGhlIGdpdmVuIHNlbGVjdG9yLCB3aXRoaW4gdGhlIGdpdmVuIHJvb3QgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnQ9ZG9jdW1lbnR9IHJvb3QgVGhlIHJvb3QgZWxlbWVudCB0byBzZWFyY2ggdW5kZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgVGhlIHNlbGVjdG9yIHRvIHF1ZXJ5IGZvci5cbiAqIEByZXR1cm5zIHtFbGVtZW50fVxuICovXG5mdW5jdGlvbiBmaW5kT25lKHJvb3QsIHNlbGVjdG9yKSB7XG4gICAgaWYoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIHNlbGVjdG9yID0gcm9vdDtcbiAgICAgICAgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5O1xuICAgIH1cbiAgICByZXR1cm4gcm9vdC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbn1cblxuZXhwb3J0IHtcbiAgICBmaW5kT25lLFxuICAgIGZpbmRBbGwsXG4gICAgY3JlYXRlRWxlbWVudFxufTsiLCIvKipcbiAqIFdyYXBzIGEgZnVuY3Rpb24gc28gdGhhdCBpdCBpcyBvbmx5IGV4ZWN1dGVkIGFmdGVyIGEgc3BlY2lmaWVkIGRlbGF5LlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBleGVjdXRlLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5IFRoZSBkZWxheSBiZWZvcmUgdGVoIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSB3cmFwcGVyIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZShmbiwgZGVsYXkpIHtcbiAgbGV0IHRpbWVvdXRJZCA9IG51bGw7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBsZXQgYXJncyA9IGFyZ3VtZW50cztcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGZuLmFwcGx5KG51bGwsIGFyZ3MpLCBkZWxheSk7XG4gIH1cbn1cblxuLyoqXG4gKiBXcmFwcyBhIGZ1bmN0aW9uIHNvIHRoYXQgaXQncyB0aHJvdHRsZWQgdG8gbm90IGV4ZWN1dGVkIG1vcmUgdGhhbiBvbmNlIGV2ZXJ5XG4gKiBzbyBvZnRlbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB0aHJlc2hvbGQgVGhlIGRlbGF5IGJlZm9yZSB0aGUgZnVuY3Rpb24gaXMgZXhlY3V0ZWQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IHdyYXBwZXIgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlKGZuLCB0aHJlc2hvbGQpIHtcbiAgbGV0IGxhc3QgPSBudWxsO1xuICBsZXQgZGVmZXJUaW1lciA9IG51bGw7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGxldCBhcmdzID0gYXJndW1lbnRzO1xuICAgIGxldCBub3cgPSArbmV3IERhdGU7XG5cbiAgICBpZihsYXN0ICYmIG5vdyA8IGxhc3QgKyB0aHJlc2hvbGQpIHtcbiAgICAgIGNsZWFyVGltZW91dChkZWZlclRpbWVyKTtcblxuICAgICAgZGVmZXJUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBsYXN0ID0gbm93O1xuICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgIH0sIHRocmVzaG9sZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3QgPSBub3c7XG4gICAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgeyBtaXggfSBmcm9tICcuL29iamVjdHMnO1xuXG5leHBvcnQgdHlwZSBIdHRwUmVzcG9uc2UgPSB7XG4gICAgc3RhdHVzOiBudW1iZXIsXG4gICAgYm9keTogc3RyaW5nXG59XG5leHBvcnQgdHlwZSBIdHRwT3B0aW9ucyA9IHtcbiAgICBtZXRob2Q/OiBzdHJpbmcsXG4gICAgdXJsPzogc3RyaW5nLFxuICAgIHBhcmFtcz86IE9iamVjdCxcbiAgICBkYXRhPzogT2JqZWN0LFxuICAgIGhlYWRlcnM/OiBPYmplY3Rcbn1cblxuLyoqXG4gKiBFeGVjdXRlIGFuIEFKQVggcmVxdWVzdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIFRoZSBIVFRQIG1ldGhvZCB0byB1c2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gc2VuZCB0ZWggcmVxdWVzdCB0by5cbiAqIEBwYXJhbSB7b2JqZWN0PX0gcGFyYW1zIEtleS12YWx1ZSBwYXJpcyBvZiBxdWVyeSBzdHJpbmcgcGFyYW1ldGVycy5cbiAqIEBwYXJhbSB7Kj19IGRhdGEgVGhlIHJlcXVlc3QgYm9keS5cbiAqIEBwYXJhbSB7aGVhZGVycz19IGhlYWRlcnMgQW55IGhlYWRlcnMgdG8gc2V0LlxuICogQHJldHVybnMge1Byb21pc2V9XG4gKi9cbmludGVyZmFjZSBJSHR0cCB7XG4gICAgKEh0dHBPcHRpb25zKTogUHJvbWlzZTxIdHRwUmVzcG9uc2U+XG4gICAgZ2V0KHVybDogc3RyaW5nLCBjb25maWc/OiBIdHRwT3B0aW9ucyk6IFByb21pc2U8SHR0cFJlc3BvbnNlPlxufVxuXG5sZXQgaHR0cCA9IDxJSHR0cD5mdW5jdGlvbih7IG1ldGhvZCwgdXJsLCBwYXJhbXMsIGRhdGEsIGhlYWRlcnMgfSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGxldCBjbGllbnQgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgbGV0IHVyaSA9IHVybDtcblxuICAgICAgICBpZihwYXJhbXMpIHtcbiAgICAgICAgICAgIGxldCBxdWVyeVN0cmluZyA9ICcnO1xuICAgICAgICAgICAgZm9yKGxldCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgaWYoIXBhcmFtcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBsZXQgc3ltYm9sID0gcXVlcnlTdHJpbmcgPyAnJicgOiAnPyc7XG4gICAgICAgICAgICAgICAgbGV0IHMgPSBgJHtzeW1ib2x9JHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX09JHtlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW2tleV0pfWA7XG4gICAgICAgICAgICAgICAgcXVlcnlTdHJpbmcgKz0gcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVyaSArPSBxdWVyeVN0cmluZztcbiAgICAgICAgfVxuXG4gICAgICAgIGNsaWVudC5vcGVuKG1ldGhvZCwgdXJpKTtcblxuICAgICAgICBpZihoZWFkZXJzKSB7XG4gICAgICAgICAgICBmb3IobGV0IGtleSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYoaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGhlYWRlcnNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoZGF0YSAmJiAobWV0aG9kID09ICdQT1NUJyB8fCBtZXRob2QgPT0gJ1BVVCcgfHwgbWV0aG9kID09ICdQQVRDSCcpKSB7XG4gICAgICAgICAgICBjbGllbnQuc2VuZChkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsaWVudC5zZW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjbGllbnQub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZih0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogdGhpcy5yZXNwb25zZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiB0aGlzLnJlc3BvbnNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgY2xpZW50Lm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJlamVjdCh7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgICAgICAgICAgICBib2R5OiB0aGlzLnJlc3BvbnNlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgIH0pXG59O1xuXG4vKipcbiAqIEV4ZWN1dGVzIGEgR0VUIHJlcXVlc3QgdG8gdGhlIHNwZWNpZmllZCBsb2NhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gc2VuZCB0aGUgcmVxdWVzdCB0by5cbiAqIEBwYXJhbSB7b2JqZWN0PX0gY29uZmlnIFRoZSBmdWxsIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAqIEByZXR1cm5zIHtQcm9taXNlfVxuICovXG5odHRwWydnZXQnXSA9ICh1cmwsIGNvbmZpZyA9IHt9KSA9PiBodHRwKG1peCh7XG4gICAgdXJsLFxuICAgIG1ldGhvZDogJ0dFVCdcbn0sIGNvbmZpZykpO1xuXG4vKipcbiAqIEV4ZWN1dGVzIGEgUE9TVCByZXF1ZXN0IHRvIHRoZSBzcGVjaWZpZWQgbG9jYXRpb24uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHNlbmQgdGhlIHJlcXVlc3QgdG8uXG4gKiBAcGFyYW0geyo9fSBkYXRhIFRoZSByZXF1ZXN0IGJvZHkuXG4gKiBAcGFyYW0ge29iamVjdD19IGNvbmZpZyBUaGUgZnVsbCBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqL1xuaHR0cFsncG9zdCddID0gKHVybCwgZGF0YSwgY29uZmlnID0ge30pID0+IGh0dHAobWl4KHtcbiAgICB1cmwsXG4gICAgZGF0YSxcbiAgICBtZXRob2Q6ICdQT1NUJ1xufSwgY29uZmlnKSk7XG5cbi8qKlxuICogRXhlY3V0ZXMgYSBQQVRDSCByZXF1ZXN0IHRvIHRoZSBzcGVjaWZpZWQgbG9jYXRpb24uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHNlbmQgdGhlIHJlcXVlc3QgdG8uXG4gKiBAcGFyYW0geyo9fSBkYXRhIFRoZSByZXF1ZXN0IGJvZHkuXG4gKiBAcGFyYW0ge29iamVjdD19IGNvbmZpZyBUaGUgZnVsbCBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqL1xuaHR0cFsncGF0Y2gnXSA9ICh1cmwsIGRhdGEsIGNvbmZpZyA9IHt9KSA9PiBodHRwKG1peCh7XG4gICAgdXJsLFxuICAgIGRhdGEsXG4gICAgbWV0aG9kOiAnUEFUQ0gnXG59LCBjb25maWcpKTtcblxuZXhwb3J0IGRlZmF1bHQgaHR0cDsiLCJmdW5jdGlvbiBleHRlbmQoc3JjLCAuLi5vYmplY3RzKSB7XG4gICAgZm9yKGxldCBpIGluIG9iamVjdHMpIHtcbiAgICAgICAgaWYoIW9iamVjdHMuaGFzT3duUHJvcGVydHkoaSkpIGNvbnRpbnVlO1xuICAgICAgICBsZXQgb2JqID0gb2JqZWN0c1tpXTtcbiAgICAgICAgZm9yKGxldCBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZighb2JqLmhhc093blByb3BlcnR5KGtleSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYob2JqW2tleV0gJiYgdHlwZW9mIG9ialtrZXldID09ICdvYmplY3QnICYmIG9ialtrZXldLmNvbnN0cnVjdG9yID09IE9iamVjdCkge1xuICAgICAgICAgICAgICAgIHNyY1trZXldID0gbWl4KHt9LCBvYmpba2V5XSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNyY1trZXldID0gb2JqW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNyYztcbn1cblxuZnVuY3Rpb24gbWl4KHNyYywgLi4ub2JqZWN0cykge1xuICAgIGxldCBjb3B5ID0gZXh0ZW5kKHt9LCBzcmMpO1xuICAgIHJldHVybiBleHRlbmQoY29weSwgLi4ub2JqZWN0cyk7XG59XG5cbmZ1bmN0aW9uIHJldHJpZXZlKHNvdXJjZSwgcGF0aCkge1xuICAgIGlmIChwYXRoLmluZGV4T2YoJy4nKSA8IDApIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZVtwYXRoXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcGFydHMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgICAgIHJldHVybiByZXRyaWV2ZShzb3VyY2VbcGFydHNbMF1dLCBwYXJ0cy5zbGljZSgxKS5qb2luKCcuJykpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYXNzaWduKHNvdXJjZSwgcGF0aCwgZGF0YSkge1xuICAgIGlmIChwYXRoLmluZGV4T2YoJy4nKSA8IDApIHtcbiAgICAgICAgc291cmNlW3BhdGhdID0gZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcGFydHMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgICAgIHJldHVybiBhc3NpZ24oc291cmNlW3BhcnRzWzBdXSwgcGFydHMuc2xpY2UoMSkuam9pbignLicpLCBkYXRhKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHBhdGhzRm9yKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aFxuICAgICAgLnNwbGl0KCcuJylcbiAgICAgIC5tYXAoKHBhcnQsIGksIHBhdGhzKSA9PiBwYXRocy5zbGljZSgwLCBpICsgMSkuam9pbignLicpKTtcbn1cblxuZnVuY3Rpb24gY3Jhd2woc291cmNlLCBjYWxsYmFjaywgcGF0aCA9IG51bGwpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gc291cmNlW2tleV07XG4gICAgICAgICAgICBsZXQgdmFsdWVQYXRoID0gcGF0aCA/IFtwYXRoLCBrZXldLmpvaW4oJy4nKSA6IGtleTtcbiAgICAgICAgICAgIGNhbGxiYWNrKHZhbHVlUGF0aCwgdmFsdWUpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBjcmF3bCh2YWx1ZSwgY2FsbGJhY2ssIHZhbHVlUGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCB7IGV4dGVuZCwgbWl4LCByZXRyaWV2ZSwgYXNzaWduLCBwYXRoc0ZvciwgY3Jhd2wgfTsiLCIvKipcbiAqIFJlbW92ZXMgdGhlIGdpdmVuIGxlbmd0aCBvZiBhIHN0cmluZy4gSWYgbGVuIGlzIG5lZ2F0aXZlLCB3aWxsIHJlbW92ZSBmcm9tIHRoZSBlbmQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRvIHNsaWNlXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuIFRoZSBsZW5ndGggdG8gcmVtb3ZlLlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlKHN0cjogc3RyaW5nLCBsZW46IG51bWJlcikge1xuICByZXR1cm4gbGVuID4gMCA/IHN0ci5zdWJzdHJpbmcobGVuKSA6IHN0ci5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCArIGxlbik7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbGVuZ3RoIG9mIG1hdGNoaW5nIGNoYXJhY3RlcnMgaW4gdGhlIGdpdmVuIHN0cmluZywgdXAgdG8gdGhlIGxlbmd0aCBwcm92aWRlZC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuIFRoZSBtYXggbGVuZ3RoIHRvIGNvdW50IHRvLiBTaG91bGQgYmUgdGhlIHNtYWxsZXN0IGxlbmd0aCBvZiBhbGwgc3RyaW5ncy5cbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gc3RyaW5ncyBUaGUgc3RyaW5ncyB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGZyb21TdGFydExlbihsZW46IG51bWJlciwgLi4uc3RyaW5nczogQXJyYXk8c3RyaW5nPikge1xuICBmb3IobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBsZXQgbGFzdCA9IG51bGw7XG4gICAgZm9yKGxldCBzID0gMDsgcyA8IHN0cmluZ3MubGVuZ3RoOyBzKyspIHtcbiAgICAgIGxldCBjID0gc3RyaW5nc1tzXVtpXTtcbiAgICAgIGlmKGxhc3QgIT09IG51bGwgJiYgYyAhPSBsYXN0KSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgICAgbGFzdCA9IGM7XG4gICAgfVxuICB9XG4gIHJldHVybiAwO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGxlbmd0aCBvZiBtYXRjaGluZyBjaGFyYWN0ZXJzIGluIHRoZSBnaXZlbiBzdHJpbmcsIGNvdW50aW5nIGZyb20gdGhlIGVuZC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbGVuIFRoZSBtYXggbGVuZ3RoIHRvIGNvdW50IHRvLiBTaG91bGQgYmUgdGhlIHNtYWxsZXN0IGxlbmd0aCBvZiBhbGwgc3RyaW5ncy5cbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gc3RyaW5ncyBUaGUgc3RyaW5ncyB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGZyb21FbmRMZW4obGVuOiBudW1iZXIsIC4uLnN0cmluZ3M6IEFycmF5PHN0cmluZz4pIHtcbiAgZm9yKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgbGV0IGxhc3QgPSBudWxsO1xuICAgIGZvcihsZXQgcyA9IDA7IHMgPCBzdHJpbmdzLmxlbmd0aDsgcysrKSB7XG4gICAgICBsZXQgc2kgPSBzdHJpbmdzW3NdLmxlbmd0aCAtIGkgLSAxO1xuICAgICAgbGV0IGMgPSBzdHJpbmdzW3NdW3NpXTtcbiAgICAgIGlmKGxhc3QgIT09IG51bGwgJiYgYyAhPSBsYXN0KSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgICAgbGFzdCA9IGM7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbG9uZ2VzdCBub24tbWF0Y2hpbmcgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBpbiB0aGUgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gc3RyaW5ncyBUaGUgbGlzdCBvZiBzdHJpbmdzIHRvIGRpZmYuXG4gKiBAcmV0dXJucyB7QXJyYXk8c3RyaW5nPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmYoLi4uc3RyaW5nczogQXJyYXk8c3RyaW5nPikge1xuICBsZXQgbGVuID0gTWF0aC5taW4uYXBwbHkobnVsbCwgc3RyaW5ncy5tYXAocyA9PiBzLmxlbmd0aCkpO1xuICBsZXQgZnJvbVN0YXJ0ID0gMDtcbiAgbGV0IGZyb21FbmQgPSAwO1xuXG4gIGZyb21TdGFydCA9IGZyb21TdGFydExlbihsZW4sIC4uLnN0cmluZ3MpO1xuXG4gIGlmKGZyb21TdGFydCA+PSBsZW4gLyAyKSB7XG4gICAgcmV0dXJuIHN0cmluZ3MubWFwKHMgPT4gcmVtb3ZlKHMsIGZyb21TdGFydCkpO1xuICB9XG5cbiAgZnJvbUVuZCA9IGZyb21FbmRMZW4obGVuLCAuLi5zdHJpbmdzKTtcblxuICBpZihmcm9tU3RhcnQgPj0gZnJvbUVuZCkge1xuICAgIHJldHVybiBzdHJpbmdzLm1hcChzID0+IHJlbW92ZShzLCBmcm9tU3RhcnQpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RyaW5ncy5tYXAocyA9PiByZW1vdmUocywgLWZyb21FbmQpKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGxvbmdlc3QgbWF0Y2hpbmcgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBpbiB0aGUgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gc3RyaW5ncyBUaGUgbGlzdCBvZiBzdHJpbmdzIHRvIG1hdGNoLlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNoYXJlZCguLi5zdHJpbmdzOiBBcnJheTxzdHJpbmc+KSB7XG4gIHN0cmluZ3MgPSBzdHJpbmdzLmZpbHRlcihzID0+IHMgIT0gbnVsbCk7XG4gIGxldCBsZW4gPSBNYXRoLm1pbi5hcHBseShudWxsLCBzdHJpbmdzLm1hcChzID0+IHMubGVuZ3RoKSk7XG4gIGxldCBmcm9tU3RhcnQgPSAwO1xuICBsZXQgZnJvbUVuZCA9IDA7XG5cbiAgaWYoc3RyaW5ncy5sZW5ndGggPT0gMCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBpZihzdHJpbmdzLmxlbmd0aCA9PSAxKSB7XG4gICAgcmV0dXJuIHN0cmluZ3NbMF07XG4gIH1cblxuICBmcm9tU3RhcnQgPSBmcm9tU3RhcnRMZW4obGVuLCAuLi5zdHJpbmdzKTtcblxuICBpZihmcm9tU3RhcnQgPj0gbGVuIC8gMikge1xuICAgIHJldHVybiBzdHJpbmdzWzBdLnN1YnN0cmluZygwLCBmcm9tU3RhcnQpO1xuICB9XG5cbiAgZnJvbUVuZCA9IGZyb21FbmRMZW4obGVuLCAuLi5zdHJpbmdzKTtcblxuICBpZihmcm9tU3RhcnQgPj0gZnJvbUVuZCkge1xuICAgIHJldHVybiBzdHJpbmdzWzBdLnN1YnN0cmluZygwLCBmcm9tU3RhcnQpO1xuICB9IGVsc2Uge1xuICAgIGxldCBzID0gc3RyaW5nc1swXTtcbiAgICByZXR1cm4gcy5zdWJzdHJpbmcocy5sZW5ndGggLSBmcm9tRW5kKTtcbiAgfVxufSIsImZ1bmN0aW9uIGN1cnJlbnRZUG9zaXRpb24oKSB7XG4gIC8vIEZpcmVmb3gsIENocm9tZSwgT3BlcmEsIFNhZmFyaVxuICBpZiAoc2VsZi5wYWdlWU9mZnNldCkgcmV0dXJuIHNlbGYucGFnZVlPZmZzZXQ7XG4gIC8vIEludGVybmV0IEV4cGxvcmVyIDYgLSBzdGFuZGFyZHMgbW9kZVxuICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApXG4gICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gIC8vIEludGVybmV0IEV4cGxvcmVyIDYsIDcgYW5kIDhcbiAgaWYgKGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG4gIHJldHVybiAwO1xufVxuXG5cbmZ1bmN0aW9uIGVsbVlQb3NpdGlvbihlbG0pIHtcbiAgdmFyIHkgPSBlbG0ub2Zmc2V0VG9wO1xuICB2YXIgbm9kZSA9IGVsbTtcbiAgd2hpbGUgKG5vZGUub2Zmc2V0UGFyZW50ICYmIG5vZGUub2Zmc2V0UGFyZW50ICE9IGRvY3VtZW50LmJvZHkpIHtcbiAgICBub2RlID0gbm9kZS5vZmZzZXRQYXJlbnQ7XG4gICAgeSArPSBub2RlLm9mZnNldFRvcDtcbiAgfSByZXR1cm4geTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc21vb3RoU2Nyb2xsKGVsbSkge1xuICB2YXIgc3RhcnRZID0gY3VycmVudFlQb3NpdGlvbigpO1xuICB2YXIgc3RvcFkgPSBlbG1ZUG9zaXRpb24oZWxtKTtcbiAgdmFyIGRpc3RhbmNlID0gc3RvcFkgPiBzdGFydFkgPyBzdG9wWSAtIHN0YXJ0WSA6IHN0YXJ0WSAtIHN0b3BZO1xuICBpZiAoZGlzdGFuY2UgPCAxMDApIHtcbiAgICBzY3JvbGxUbygwLCBzdG9wWSk7IHJldHVybiAwO1xuICB9XG4gIHZhciBzcGVlZCA9IE1hdGgucm91bmQoZGlzdGFuY2UgLyAxMDApO1xuICBpZiAoc3BlZWQgPj0gMjApIHNwZWVkID0gMjA7XG4gIHZhciBzdGVwID0gTWF0aC5yb3VuZChkaXN0YW5jZSAvIDI1KTtcbiAgdmFyIGxlYXBZID0gc3RvcFkgPiBzdGFydFkgPyBzdGFydFkgKyBzdGVwIDogc3RhcnRZIC0gc3RlcDtcbiAgdmFyIHRpbWVyID0gMDtcbiAgdmFyIGR1cmF0aW9uID0gMDtcbiAgaWYgKHN0b3BZID4gc3RhcnRZKSB7XG4gICAgZm9yICggdmFyIGk9c3RhcnRZOyBpPHN0b3BZOyBpKz1zdGVwICkge1xuICAgICAgc2V0VGltZW91dChcIndpbmRvdy5zY3JvbGxUbygwLCBcIitsZWFwWStcIilcIiwgdGltZXIgKiBzcGVlZCk7XG4gICAgICBsZWFwWSArPSBzdGVwOyBpZiAobGVhcFkgPiBzdG9wWSkgbGVhcFkgPSBzdG9wWTsgdGltZXIrKztcbiAgICAgIGR1cmF0aW9uID0gdGltZXIgKiBzcGVlZDtcbiAgICB9IHJldHVybiBkdXJhdGlvbjtcbiAgfVxuICBmb3IgKCB2YXIgaT1zdGFydFk7IGk+c3RvcFk7IGktPXN0ZXAgKSB7XG4gICAgc2V0VGltZW91dChcIndpbmRvdy5zY3JvbGxUbygwLCBcIitsZWFwWStcIilcIiwgdGltZXIgKiBzcGVlZCk7XG4gICAgbGVhcFkgLT0gc3RlcDsgaWYgKGxlYXBZIDwgc3RvcFkpIGxlYXBZID0gc3RvcFk7IHRpbWVyKys7XG4gICAgZHVyYXRpb24gPSB0aW1lciAqIHNwZWVkO1xuICB9XG4gIHJldHVybiBkdXJhdGlvbjtcbn0iXX0="}